(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{392:function(t,n,a){"use strict";a.r(n);var s=a(1),e=Object(s.a)({},(function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"mo-ƒëau"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mo-ƒëau"}},[t._v("#")]),t._v(" M·ªü ƒë·∫ßu")]),t._v(" "),a("p",[t._v('Hi·ªán nay h·∫ßu h·∫øt c√°c trang web ƒë·ªÅu ƒë√£ h·ªó tr·ª£ SSL (Secure Socket Layer). N√≥ m√£ h√≥a d·ªØ li·ªáu truy·ªÅn ƒëi gi·ªØa m√°y ch·ªß web v√† tr√¨nh duy·ªát v√† l√†m tƒÉng t√≠nh b·∫£o m·∫≠t cho website. Ngo√†i ra, vi·ªác s·ª≠ d·ª•ng SSL certificate (ch·ª©ng ch·ªâ SSL) l√† c·∫ßn thi·∫øt b·ªüi hi·ªán t·∫°i Google ƒë√£ ∆∞u ti√™n x·∫øp h·∫°ng website d·ª±a theo giao th·ª©c https (HTTP + SSL), nh·ªØng website m√† ch·ªâ s·ª≠ d·ª•ng giao th·ª©c http s·∫Ω b·ªã coi l√† "unsafe" (kh√¥ng an to√†n).')]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/55786352/73729403-8d892380-4767-11ea-83c9-c8f1115594c7.png",alt:"image"}})]),t._v(" "),a("p",[t._v("C√≥ nhi·ªÅu lo·∫°i ch·ª©ng ch·ªâ SSL cung c·∫•p c√°c m·ª©c ƒë·ªô b·∫£o m·∫≠t kh√°c nhau. V√≠ d·ª• ch√∫ng ta c√≥ th·ªÉ mua m·ªôt ch·ª©ng ch·ªâ SSL t·∫°i Namecheap v·ªõi c√°c m·ª©c gi√° kh√°c nhau t√πy t·ª´ng lo·∫°i. Tuy nhi√™n trong b√†i vi·∫øt n√†y ch√∫ng ta s·∫Ω ch·ªâ n√≥i ƒë·∫øn lo·∫°i c∆° b·∫£n nh·∫•t v√† l√†m th·∫ø n√†o ƒë·ªÉ c√≥ ƒë∆∞·ª£c n√≥ m·ªôt c√°ch mi·ªÖn ph√≠ üòÅ")]),t._v(" "),a("h3",{attrs:{id:"chuan-bi"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#chuan-bi"}},[t._v("#")]),t._v(" Chu·∫©n b·ªã")]),t._v(" "),a("ul",[a("li",[t._v("C√°c b·∫°n c√≥ th·ªÉ ƒëƒÉng k√Ω server AWS theo h∆∞·ªõng d·∫´n "),a("a",{attrs:{href:"https://viblo.asia/p/dang-ky-server-linux-free-voi-amazon-web-service-va-huong-dan-su-dung-co-ban-ORNZqj1el0n",target:"_blank",rel:"noopener noreferrer"}},[t._v("T·∫°i ƒë√¢y"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("T·∫°i v√¨ trong b√†i n√†y m√¨nh c√†i ƒë·∫∑t ssl ph·ª•c v·ª• cho m·ª•c ƒë√≠ch h·ªçc t·∫≠p ho·∫∑c l√†m c√°c webhook ng·ªãch ng·ªãch n·∫øu quan t√¢m h∆°n ta n√™n c√¢n nh·∫Øc S·ª± kh√°c bi·ªát v·ªÅ SSL c√≥ ph√≠ v√† mi·ªÖn ph√≠ "),a("a",{attrs:{href:"https://www.digistar.vn/khac-biet-giua-ssl-co-phi-va-ssl-mien-phi/",target:"_blank",rel:"noopener noreferrer"}},[t._v("T·∫°i ƒë√¢y"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#server"}},[t._v("#")]),t._v(" Server")]),t._v(" "),a("ul",[a("li",[t._v("Khi c√≥ 1 server m·ªõi tinh v·ªÅ AWS EC2, ƒëi·ªÅu ƒë·∫ßu ti√™n ta n√™n l√†m l√† t·∫°o ra 1 t√†i kho·∫£n cho vi·ªác deploy code, trong lo·∫°t h∆∞·ªõng d·∫´n b√™n d∆∞·ªõi l√† m√¨nh s·ª≠ d·ª•ng Ubuntu 18.04 OS v√† Nginx nha m·ªçi ng∆∞·ªùi")])]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" adduser deploy "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# T·∫°o t√†i kho·∫£n deploy")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("su")]),t._v(" deploy "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Truy c·∫≠p v√†o t√†i kho·∫£n n√†y")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mkdir")]),t._v(" ~/.ssh "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" ~/.ssh/authorized_keys "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# T·∫°o ra file x√°c th·ª±c ƒë·ªÉ nh√©t Public Key sau n√†y ta mu·ªën SSH v√†o t√†i kho·∫£n n√†y")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("exit")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Logout ra t√†i kho·∫£n root")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("usermod")]),t._v(" -a -G "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" deploy "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# Cho ph√©p quy·ªÅn sudo ƒë·ªëi v·ªõi deploy user")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("h3",{attrs:{id:"cai-ƒëat-nginx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cai-ƒëat-nginx"}},[t._v("#")]),t._v(" C√†i ƒë·∫∑t Nginx")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" nginx\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("Ki·ªÉm tra xem nginx c√≥ ho·∫°t ƒë·ªông hay kh√¥ng")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("service")]),t._v(" nginx status\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("N·∫øu th·∫•y activity running l√† ok r·ªìi")]),t._v(" "),a("h3",{attrs:{id:"cai-ƒëat-thu-vien-certbot"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cai-ƒëat-thu-vien-certbot"}},[t._v("#")]),t._v(" C√†i ƒë·∫∑t Th∆∞ vi·ªán Certbot")]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" software-properties-common\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" apt-apt-repository ppa:certbot/certbot\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" certbot python-certbot-nginx\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("ul",[a("li",[t._v("T·ªõi ƒë√¢y ta c√≥ 2 options 1 c√°i l√† ch·∫°y ph√°t certbot s·∫Ω c·∫•u h√¨nh cho ta t·ª´ A - Z ch·∫°y ph√°t f5 c√≥ https lu√¥n")])]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" certbot --nginx\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ul",[a("li",[t._v("2 l√† s·∫Ω t·∫°o cho ta nh·ªØng c√°i file li√™n quan t·ªõi ssl r·ªìi ta t·ª± config.")])]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" certbot certonly --nginx\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ul",[a("li",[t._v("Trong b√†i n√†y m√¨nh demo c√°i ƒë·∫ßu ti√™n")]),t._v(" "),a("li",[t._v("Sau khi ch·∫°y l·ªánh ·ªü c√°ch 1 ƒë·∫ßu ti√™n n√≥ s·∫Ω y√™u c·∫ßu m√¨nh ƒëi·ªÅn email , ƒëi·ªÅn nh∆∞ b√¨nh th∆∞·ªùng")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/55786352/72714554-7bbd5300-3ba1-11ea-847b-ba856758a625.png",alt:"image"}})]),t._v(" "),a("ul",[a("li",[t._v("Ti·∫øp theo l√† ƒë·ªìng √Ω c√°c ch√≠nh s√°ch, ƒëi·ªÅu kho·∫£n ( Auto Agree ) :d")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/55786352/72714599-90015000-3ba1-11ea-92d4-24b05c5ac0fb.png",alt:"image"}})]),t._v(" "),a("ul",[a("li",[t._v("H·ªèi m√¨nh c√≥ mu·ªën share email nh·∫≠n c√°c th√¥ng b√°o tin t·ª©c hay campaigns hay kh√¥ng ( c√°i n√†y t√πy c√°c b·∫°n nh√© )")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/55786352/72714670-b0310f00-3ba1-11ea-96dd-1a7bde1c780c.png",alt:"image"}})]),t._v(" "),a("ul",[a("li",[t._v("Nh·∫≠p t√™n mi·ªÅn m√† m√¨nh mu·ªën c·∫•u h√¨nh SSL")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/55786352/72714750-d191fb00-3ba1-11ea-8c31-4ee7804d5c29.png",alt:"image"}})]),t._v(" "),a("ul",[a("li",[t._v("Cu·ªëi c√πng l√† n√≥ h·ªèi m√¨nh c√≥ mu·ªën chuy·ªÉn h∆∞·ªõng t·ª´ HTTP sang HTTPS khi ng∆∞·ªùi d√πng truy c·∫≠p v√†o HTTP hay kh√¥ng")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/55786352/72714811-ecfd0600-3ba1-11ea-8ecd-ca1489a10e60.png",alt:"image"}})]),t._v(" "),a("ul",[a("li",[t._v("Sau khi th√†nh c√¥ng s·∫Ω c√≥ th√¥ng b√°o ch√∫t c√°c file key n·∫±m ·ªü ƒë√¢u (Certbot t·ª± ƒë·ªông t·∫°o cho m√¨nh ) r·ªìi th·ªùi h·∫°n c·ªßa SSL v√† c√°ch renew")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/55786352/72714910-1ae24a80-3ba2-11ea-9ecc-154dac119366.png",alt:"image"}})]),t._v(" "),a("h3",{attrs:{id:"cuoi-cung-mo-port"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cuoi-cung-mo-port"}},[t._v("#")]),t._v(" Cu·ªëi c√πng m·ªü Port")]),t._v(" "),a("ul",[a("li",[t._v("V·ªÅ server m·ªõi c·ªßa AWS EC2 th√¨ m·∫∑c ƒë·ªãnh l√∫c t·∫°o instance n√≥ ch·ªâ m·ªü cho m√¨nh port 22 ƒë·ªÉ SSH th√¥i , m√¨nh s·∫Ω m·ªü ti·∫øp port 80 v√† 443 cho http v√† https")]),t._v(" "),a("li",[t._v("ƒê·∫ßu ti√™n ta v√†o dashboard c·ªßa instance nh√© c·ªßa m√¨nh l√† https://ap-southeast-1.console.aws.amazon.com/ec2/v2/home v√¨ l√∫c t·∫°o m√¨nh ch·ªçn ap-southeast cho n√≥ ƒë·ª° lag =)))")]),t._v(" "),a("li",[t._v("B√™n tr√°i m√†n h√¨nh chon instance")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/55786352/72715253-b70c5180-3ba2-11ea-8970-0404f18007a9.png",alt:"image"}})]),t._v(" "),a("ul",[a("li",[t._v("R·ªìi ·ªü d∆∞·ªõi ph·∫ßn description ph·∫ßn "),a("code",[t._v("Security groups")]),t._v(" Ta b·∫•m v√†o "),a("code",[t._v("launch-wizard-*")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/55786352/72715198-a065fa80-3ba2-11ea-9193-451fa64ffa00.png",alt:"image"}})]),t._v(" "),a("ul",[a("li",[t._v("·ªû d∆∞·ªõi Ch·ªçn Inbound > Edit > add c√°c rule nh∆∞ h√¨nh sau")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/55786352/72715474-1cf8d900-3ba3-11ea-94fe-34487d53dadc.png",alt:"image"}})]),t._v(" "),a("ul",[a("li",[t._v("Xong quay l·∫°i IP Public ho·∫∑c t√™n mi·ªÅn ƒë·ªÉ ki·ªÉm tra")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://user-images.githubusercontent.com/55786352/72715833-ca6bec80-3ba3-11ea-8f43-2fb74779031d.png",alt:"image"}})]),t._v(" "),a("hr"),t._v(" "),a("p",[a("a",{attrs:{href:"https://hoangpn.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("@hoangpn"),a("OutboundLink")],1),t._v(" - Better every day!")])])}),[],!1,null,null,null);n.default=e.exports}}]);