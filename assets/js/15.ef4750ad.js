(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{390:function(n,h,t){"use strict";t.r(h);var c=t(1),i=Object(c.a)({},(function(){var n=this,h=n.$createElement,t=n._self._c||h;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("p",[n._v("Hi các bạn, cũng lâu rồi mới ngoi lên đây viết vài dòng tâm sự chia sẻ chuyện đời, chuyện dev. Không biết bác nào giống mình không, càng già càng ngại viết lách 😃")]),n._v(" "),t("p",[n._v("Đây ra seri bài viết xung quanh vấn đề review code, rất mong các bạn đón đọc. Nói là seri, nhưng cũng chẳng có thứ tự, hãy tận hưởng nhé")]),n._v(" "),t("ul",[t("li",[n._v("Phần 1: Trách nhiệm đến từ hai phía (P1)")]),n._v(" "),t("li",[n._v("Phần 2: Trách nhiệm đến từ hai phía (P2)")])]),n._v(" "),t("p",[n._v("Tiếp theo phần trước, chúng ta tiếp tục bàn về trách nhiệm của PR author's")]),n._v(" "),t("h2",{attrs:{id:"trach-nhiem-cua-pr-author-s"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#trach-nhiem-cua-pr-author-s"}},[n._v("#")]),n._v(" Trách nhiệm của PR author’s")]),n._v(" "),t("p",[n._v("Như đã trình bày ở trên với các bạn, trách nhiệm đến từ 2 phía, vậy PR author's cần làm điều gì để giúp ích cho việc review code diễn ra thuận lợi hơn.")]),n._v(" "),t("h3",{attrs:{id:"can-co-mot-description-tot"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#can-co-mot-description-tot"}},[n._v("#")]),n._v(" Cần có một description tốt")]),n._v(" "),t("p",[n._v("=> Hãy đọc nội dung này ở phần 1 nhé ✋")]),n._v(" "),t("h3",{attrs:{id:"cac-pr-nho-thi-tot-hon"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cac-pr-nho-thi-tot-hon"}},[n._v("#")]),n._v(" Các PR nhỏ thì tốt hơn")]),n._v(" "),t("p",[t("img",{attrs:{src:"https://images.viblo.asia/9b5c9b50-19f0-4889-a468-85674c2e9f07.jpg",alt:"small-code-review-please.jpg"}})]),n._v(" "),t("h4",{attrs:{id:"tai-sao-pr-can-nho"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tai-sao-pr-can-nho"}},[n._v("#")]),n._v(" Tại sao PR cần nhỏ?")]),n._v(" "),t("ul",[t("li",[t("strong",[n._v("Review sẽ nhanh hơn")]),n._v(": Reviewer sẽ dễ dàng dành 5, 10 phút review nếu PR nhỏ thì dễ hơn là 30 phút cho một PR lớn.")]),n._v(" "),t("li",[t("strong",[n._v("Xem xét PR kĩ lưỡng hơn")]),n._v(": Với những thay đổi lớn, reviewer và authors thường sẽ có xu hướng cảm thấy nản vì các comment chi tiết chuyên qua chuyển lại. Đôi khi các điểm quan trọng sẽ bị bỏ sót")]),n._v(" "),t("li",[t("strong",[n._v("Ít khả năng xảy ra bugs")]),n._v(": Vì bạn đang thực hiện ít thay đổi hơn, nên bạn và reviewer sẽ dễ dàng suy luận một cách hiệu quả về tác động của PR và xem liệu có thể xảy ra bugs hay không một cách tốt hơn.")]),n._v(" "),t("li",[t("strong",[n._v("Đỡ tốn effort hơn nếu PR bị reject")]),n._v(": Nếu bạn tạo 1 PR lớn, sau đó bị reject vì đang sai hướng đi, sẽ rất tốn công sức để làm lại")]),n._v(" "),t("li",[t("strong",[n._v("Dễ dàng merge hơn")]),n._v(": Làm việc trên một PR lớn tốn rất nhiều thời gian, vì vậy bạn sẽ có nhiều conflict khi merge code, và bạn sẽ phải fix conflict nhiều hơn.")]),n._v(" "),t("li",[t("strong",[n._v("Không cần phải chờ đợi review quá lâu để có thể xử  lý tiếp")]),n._v(": Đôi lúc, 1 task của bạn rất lớn, và tách ra làm nhiều phần khác nhau. Bạn thử nghĩ xem, nếu phần PR bạn nhờ review to => tổn thời gian để chờ. Và bạn lại cần merge gấp để có thể start việc coding của mình. Quả thật là toanggg.")]),n._v(" "),t("li",[t("strong",[n._v("Dễ dàng quay lại fix nếu có comments")]),n._v(": Đôi lúc, bạn đang code task 3, 4 mà cần phải quay lại để fix review của task 1. Nếu PR quá lớn, sẽ rất mất thời gian để bạn nắm lại spec cũng như check lại tính đúng đắn của PR.")])]),n._v(" "),t("p",[n._v("Chú ý rằng, reviewer có quyền reject hoàn toàn PR của bạn vì lý do duy nhất là PR quá lớn. Thông thường, vì lịch sự, họ sẽ cảm ơn đóng góp của bạn, nhưng yêu cầu bạn bằng cách nào đó tách nó thành các PR nhỏ hơn. Đương nhiên, có thể nó sẽ tốn nhiều thời gian và công sức. Vậy nên tốt nhất là hãy tách các PR đủ nhỏ ngay từ đầu.")]),n._v(" "),t("h4",{attrs:{id:"the-nao-la-pr-nho"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#the-nao-la-pr-nho"}},[n._v("#")]),n._v(" Thế nào là PR nhỏ")]),n._v(" "),t("p",[n._v("Nhìn chung, PR vừa đủ để tiện cho việc review thường là sẽ thực hiện một chức năng duy nhất, riêng biệt. Điều đó có nghĩa là:")]),n._v(" "),t("ul",[t("li",[n._v("PR thực hiện một chức năng duy nhất. Đây thường chỉ là một phần của một task thay vì toàn bộ task đó. Nếu có thể, hãy làm việc với reviewer trước để có thể đi đến thống nhất.")]),n._v(" "),t("li",[n._v("PR nên bao gồm cả UnitTest")]),n._v(" "),t("li",[n._v("Mọi thứ mà reviewer cần để hiểu về PR của bạn như description, codebase hiện tại, hoặc các PR khác tương tự, ...")]),n._v(" "),t("li",[n._v("Các PR cũng không nên quá nhỏ, khi đó nó sẽ rất khó hiểu. Nếu được, bạn hãy đính kèm documents để tiện cho việc review.")])]),n._v(" "),t("p",[n._v("Thực sự thì không có quy tắc cố định nào quy định về việc một PR thế nào là đủ nhỏ. hoặc quá lớn. Nhưng có một vài số liệu chung như")]),n._v(" "),t("ul",[t("li",[n._v("100 lines change thường là kích thước hợp lý")]),n._v(" "),t("li",[n._v("1000 lines change thường là kích thước quá lớn.")]),n._v(" "),t("li",[n._v("200 lines change trong một file thường không sao, nhưng nếu có nhiều files như vậy thì sẽ là quá lớn.")])]),n._v(" "),t("h4",{attrs:{id:"khi-nao-pr-to-co-the-đuoc-chap-nhan"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#khi-nao-pr-to-co-the-đuoc-chap-nhan"}},[n._v("#")]),n._v(" Khi nào PR to có thể được chấp nhận")]),n._v(" "),t("p",[n._v("Trong một vài trường hợp, PR to có thể chấp nhận được như")]),n._v(" "),t("ul",[t("li",[n._v("Bạn có thể coi rằng việc xóa files nào đó là 1 line change, vì thường thì reviewer sẽ không mất nhiều thời gian để xem xét chúng")]),n._v(" "),t("li",[n._v("Đôi khi, bạn có các PR về việc refactoring code mà được xử lý tự động bằng 1 vài tools có thể tin tưởng được. Mặc dù là PR lớn, nhưng chúng ta có thể chấp nhận điều này, đương nhiên, cho dù vậy, chúng ta vẫn cần các bước y hệt 1 PR bình thường như testing.")])]),n._v(" "),t("h4",{attrs:{id:"refactoring-nen-la-1-pr-rieng-biet"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#refactoring-nen-la-1-pr-rieng-biet"}},[n._v("#")]),n._v(" Refactoring nên là 1 PR riêng biệt")]),n._v(" "),t("p",[n._v("Thông thường, chúng ta nên tách riêng PR cho việc xử lý spec mới, và refactoring nếu chúng đủ to để tách. Đừng nên quá cứng nhắc trong việc này. Ví du như các bước bỏ như sửa tên biến trong phạm vi nhỏ,  hay chính sửa logic cũ cần thiết để có thể đáp ứng được spec thì cũng không cần thiết phải tách ra. Đừng để việc refactoring ảnh hưởng tới tiến độ của task.")]),n._v(" "),t("h4",{attrs:{id:"pr-nen-co-đay-đu-ca-unittest"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pr-nen-co-đay-đu-ca-unittest"}},[n._v("#")]),n._v(" PR nên có đẩy đủ cả UnitTest")]),n._v(" "),t("p",[n._v("Hãy nhớ rằng, PR nhỏ ở đây có nghĩa là nên tập trung vào một hoặc vài chức năng liên quan được chấp thuận, chứ không phải chỉ là vài dòng thay đổi thì được gọi là nhỏ.")]),n._v(" "),t("p",[n._v("Hãy luôn bảo đảm rằng code của mình đã có UnitTest, cho dù đó là thay đổi nhỏ nhất.")]),n._v(" "),t("h4",{attrs:{id:"phai-lam-gi-neu-khong-the-tach-nho-pr"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#phai-lam-gi-neu-khong-the-tach-nho-pr"}},[n._v("#")]),n._v(" Phải làm gì nếu không thể tách nhỏ PR?")]),n._v(" "),t("p",[n._v("Đôi khi bạn gặp phải một vài tính huống dẫn đễn việc PR bắt buộc phải lớn. Điều này rất hiếm khi xảy ra. Các developer hầu như luôn có thể tìm ra cách để tách nhỏ các PR")]),n._v(" "),t("p",[n._v("Trước khi xử lý một PR lớn. hãy xem xét đến việc refactoring trước có giúp cho việc triển khai PR tốt hơn không? Hoặc đơn giản hơn là nói chuyện trao đổi với reviewer hoặc đồng nghiệp của bạn để tìm giải pháp")]),n._v(" "),t("p",[n._v("Nếu tất cả những điều trên không thể thực hiện, thì ít nhất hãy thông báo cho reviewer của bạn để có được sự đồng ý từ họ, cũng như giúp cho họ chuẩn bị đễ review 1 PR lớn. Nếu điều này xảy ra, hãy hiểu rằng, PR của bạn sẽ được review trong một thời gian dài.")]),n._v(" "),t("h3",{attrs:{id:"xu-ly-feedback-comments-cua-reviewer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#xu-ly-feedback-comments-cua-reviewer"}},[n._v("#")]),n._v(" Xử lý feedback, comments của reviewer")]),n._v(" "),t("p",[n._v("Đương nhiên, đã review thì thường sẽ có comment, mà đã có comment thì sẽ phải giải quyết. Dưới đây là một số điều hữu ích cần biết về việc xử lý comments của reviewer")]),n._v(" "),t("h4",{attrs:{id:"đung-coi-viec-review-la-cong-kich-ca-nhan"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#đung-coi-viec-review-la-cong-kich-ca-nhan"}},[n._v("#")]),n._v(" Đừng coi việc review là công kích cá nhân.")]),n._v(" "),t("p",[t("img",{attrs:{src:"https://images.viblo.asia/c447afe8-996a-462e-a960-79ecd8ff1e9a.jpeg",alt:"1_Ypd0z4OhOmegm-WHyGHgxg.jpeg"}}),n._v("\nNên nhớ rằng, mục tiêu của việc review code là làm cho codebase tốt lên. Khi reviewer review và đưa ra comments về code của bạn. Hãy hiểu rằng đó hoàn toàn là vấn đề công việc. Không có ý công kích cá nhân gì ở đây cả. Hãy hạ cái tôi của mình xuống, luôn đón nhận với tâm thế học hỏi.")]),n._v(" "),t("p",[n._v("**Đừng bao giờ trả lời, hay phản ứng review code một cách tức giận !\n**")]),n._v(" "),t("h4",{attrs:{id:"fix-the-code"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fix-the-code"}},[n._v("#")]),n._v(" Fix the Code")]),n._v(" "),t("p",[n._v("Đương nhiên, phần lớn chúng ta đều phải fix comments code. Không ai tránh khỏi việc này. Nên hãy chắc chắn rằng")]),n._v(" "),t("ol",[t("li",[n._v("Đừng bao giờ lặp lại lỗi tương tự như vậy nữa.")]),n._v(" "),t("li",[n._v("Hãy cố gắng làm code của bạn dễ hiểu nhất đối với reviewer => Vì chúng ta cần hiểu rằng, code của chúng ta sẽ sử dụng lại vào thời điểm sau này bởi bất kì ai.")]),n._v(" "),t("li",[n._v("Hãy chắc chắn rằng mình chạy lại UnitTest, hay self-test, hoặc check lại PR ít nhất 1 lần trước khi gửi lại cho reviewer.")]),n._v(" "),t("li",[n._v("Hãy nhớ rằng, không phải tất cả các comment cần phải fix, hay kiểm chứng lại, hoặc hỏi lại reviewer của mình để cùng đưa ra hướng đi tốt nhất.")])]),n._v(" "),t("h3",{attrs:{id:"tong-ket"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tong-ket"}},[n._v("#")]),n._v(" Tổng kết")]),n._v(" "),t("p",[n._v("Qua bài viết này chúng ta rút ra được những điều gì?")]),n._v(" "),t("ol",[t("li",[n._v("Tách nhỏ các PR nếu có thể, tránh để PR quá to và nhờ người khác review.")]),n._v(" "),t("li",[n._v("Hãy mang tâm thế học hỏi, đừng coi việc comment code là công kích cá nhân.")]),n._v(" "),t("li",[n._v("Đừng trả lời comment trong khi tức giận.")])]),n._v(" "),t("p",[n._v("Thực sự thì, việc review code là một cách tốt nhất để "),t("strong",[n._v("học hỏi kinh nghiệm từ ai đó")]),n._v(". Bạn nên mang trong mình tâm thế học hỏi khi nhờ người khác review, và có comment lại, cho dù đó là người có level cao hơn hay thấp hơn mình.")]),n._v(" "),t("p",[n._v("Hãy chờ đón phần tiếp theo nhé. Nêu có bất kì thắc mắc gì cần giải đáp, hoặc góp ý cho mình, thì hãy comment ở dưới nhé. Cảm ơn các bạn đã đọc bài viết đến đây.")]),n._v(" "),t("hr"),n._v(" "),t("p",[t("a",{attrs:{href:"https://hoangpn.com",target:"_blank",rel:"noopener noreferrer"}},[n._v("@hoangpn - Better every day!"),t("OutboundLink")],1)])])}),[],!1,null,null,null);h.default=i.exports}}]);